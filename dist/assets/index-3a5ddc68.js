import{f as r,g as _,m as F,r as H,z as I,k as L,bd as B,bt as U,y as V,au as O,l as X}from"./index-7e43eeaa.js";const A=t=>{const{value:n,formatter:o,precision:e,decimalSeparator:a,groupSeparator:f="",prefixCls:i}=t;let c;if(typeof o=="function")c=o(n);else{const s=String(n),u=s.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||s==="-")c=s;else{const d=u[1];let p=u[2]||"0",m=u[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,f),typeof e=="number"&&(m=m.padEnd(e,"0").slice(0,e>0?e:0)),m&&(m=`${a}${m}`),c=[r.createElement("span",{key:"int",className:`${i}-content-value-int`},d,p),m&&r.createElement("span",{key:"decimal",className:`${i}-content-value-decimal`},m)]}}return r.createElement("span",{className:`${i}-content-value`},c)},Y=A,q=t=>{const{componentCls:n,marginXXS:o,padding:e,colorTextDescription:a,titleFontSize:f,colorTextHeading:i,contentFontSize:c,fontFamily:s}=t;return{[n]:Object.assign(Object.assign({},H(t)),{[`${n}-title`]:{marginBottom:o,color:a,fontSize:f},[`${n}-skeleton`]:{paddingTop:e},[`${n}-content`]:{color:i,fontSize:c,fontFamily:s,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:o},[`${n}-content-suffix`]:{marginInlineStart:o}}})}},G=t=>{const{fontSizeHeading3:n,fontSize:o}=t;return{titleFontSize:o,contentFontSize:n}},J=_("Statistic",t=>{const n=F(t,{});return q(n)},G);var K=globalThis&&globalThis.__rest||function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};const Q=r.forwardRef((t,n)=>{const{prefixCls:o,className:e,rootClassName:a,style:f,valueStyle:i,value:c=0,title:s,valueRender:u,prefix:d,suffix:p,loading:m=!1,formatter:l,precision:g,decimalSeparator:v=".",groupSeparator:$=",",onMouseEnter:h,onMouseLeave:w}=t,C=K(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:N,direction:T,className:j,style:k}=I("statistic"),S=N("statistic",o),[z,M,R]=J(S),b=r.createElement(Y,{decimalSeparator:v,groupSeparator:$,prefixCls:S,formatter:l,precision:g,value:c}),P=L(S,{[`${S}-rtl`]:T==="rtl"},j,e,a,M,R),x=r.useRef(null);r.useImperativeHandle(n,()=>({nativeElement:x.current}));const D=B(C,{aria:!0,data:!0});return z(r.createElement("div",Object.assign({},D,{ref:x,className:P,style:Object.assign(Object.assign({},k),f),onMouseEnter:h,onMouseLeave:w}),s&&r.createElement("div",{className:`${S}-title`},s),r.createElement(U,{paragraph:!1,loading:m,className:`${S}-skeleton`,active:!0},r.createElement("div",{style:i,className:`${S}-content`},d&&r.createElement("span",{className:`${S}-content-prefix`},d),u?u(b):b,p&&r.createElement("span",{className:`${S}-content-suffix`},p)))))}),y=Q,W=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Z(t,n){let o=t;const e=/\[[^\]]*]/g,a=(n.match(e)||[]).map(s=>s.slice(1,-1)),f=n.replace(e,"[]"),i=W.reduce((s,[u,d])=>{if(s.includes(u)){const p=Math.floor(o/d);return o-=p*d,s.replace(new RegExp(`${u}+`,"g"),m=>{const l=m.length;return p.toString().padStart(l,"0")})}return s},f);let c=0;return i.replace(e,()=>{const s=a[c];return c+=1,s})}function ee(t,n,o){const{format:e=""}=n,a=new Date(t).getTime(),f=Date.now(),i=Math.max(o?a-f:f-a,0);return Z(i,e)}var te=globalThis&&globalThis.__rest||function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};function ne(t){return new Date(t).getTime()}const ae=t=>{const{value:n,format:o="HH:mm:ss",onChange:e,onFinish:a,type:f}=t,i=te(t,["value","format","onChange","onFinish","type"]),c=f==="countdown",[s,u]=r.useState(null),d=V(()=>{const l=Date.now(),g=ne(n);u({});const v=c?g-l:l-g;return e==null||e(v),c&&g<l?(a==null||a(),!1):!0});r.useEffect(()=>{let l;const g=()=>O.cancel(l),v=()=>{l=O(()=>{d()&&v()})};return v(),g},[n,c]),r.useEffect(()=>{u({})},[]);const p=(l,g)=>s?ee(l,Object.assign(Object.assign({},g),{format:o}),c):"-",m=l=>X(l,{title:void 0});return r.createElement(y,Object.assign({},i,{value:n,valueRender:m,formatter:p}))},E=ae,oe=t=>r.createElement(E,Object.assign({},t,{type:"countdown"})),re=r.memo(oe);y.Timer=E;y.Countdown=re;export{y as S};
