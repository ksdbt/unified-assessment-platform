import{u as p,j as t,B as N,a as s,A as y,U as b,C as d}from"./index-7e43eeaa.js";import{g as S}from"./assessments-75df469f.js";import{g as w}from"./submissions-daaf532e.js";import{C}from"./CheckCircleOutlined-8efca08c.js";import{C as A}from"./ClockCircleOutlined-2802ea38.js";import{T as D}from"./TrophyOutlined-3606b085.js";import{R as g,C as m}from"./row-43cc7f0c.js";import{S as j}from"./index-3a5ddc68.js";import{P as I}from"./progress-213077d5.js";import{L as o}from"./index-6800dda7.js";import{C as O}from"./CalendarOutlined-46d94d34.js";import"./index-d2f8d546.js";import"./extendsObject-bdadc4da.js";import"./index-b2b0373a.js";const E=()=>{const{user:c}=p(),l=S(c.id),r=w(c.id),a=r.filter(e=>e.status==="evaluated").length,h=l.filter(e=>{const i=r.find(n=>n.assessmentId===e.id);return!i||i.status==="pending"}).length,f=r.filter(e=>e.status==="evaluated").reduce((e,i)=>e+i.percentage,0)/a||0,u=r.slice().sort((e,i)=>new Date(i.submittedAt)-new Date(e.submittedAt)).slice(0,3),x=l.filter(e=>!r.find(n=>n.assessmentId===e.id)&&new Date(e.deadline)>new Date).sort((e,i)=>new Date(e.deadline)-new Date(i.deadline)).slice(0,3),v=[{title:"Total Assessments",value:l.length,icon:t(N,{}),color:"#1890ff"},{title:"Completed",value:a,icon:t(C,{}),color:"#52c41a"},{title:"Pending",value:h,icon:t(A,{}),color:"#faad14"},{title:"Average Score",value:f.toFixed(1),suffix:"%",icon:t(D,{}),color:"#722ed1"}];return s("div",{className:"p-6 space-y-6",children:[s("div",{className:"flex items-center space-x-4 mb-6",children:[t(y,{src:c.avatar,size:64,icon:t(b,{})}),s("div",{children:[s("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Welcome back, ",c.name,"!"]}),t("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's your assessment overview"})]})]}),t(g,{gutter:[16,16],children:v.map((e,i)=>t(m,{xs:24,sm:12,lg:6,children:t(d,{className:"text-center",children:t(j,{title:e.title,value:e.value,suffix:e.suffix,prefix:t("span",{style:{color:e.color},children:e.icon}),valueStyle:{color:e.color}})})},i))}),s(g,{gutter:[16,16],children:[t(m,{xs:24,lg:12,children:t(d,{title:"Assessment Progress",className:"h-full",children:s("div",{className:"space-y-4",children:[s("div",{children:[s("div",{className:"flex justify-between text-sm mb-2",children:[t("span",{children:"Overall Completion"}),s("span",{children:[Math.round(a/l.length*100),"%"]})]}),t(I,{percent:Math.round(a/l.length*100),status:"active"})]}),s("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s("div",{children:[t("div",{className:"text-2xl font-bold text-green-600",children:a}),t("div",{className:"text-sm text-gray-600",children:"Completed"})]}),s("div",{children:[t("div",{className:"text-2xl font-bold text-orange-600",children:h}),t("div",{className:"text-sm text-gray-600",children:"Pending"})]})]})]})})}),t(m,{xs:24,lg:12,children:t(d,{title:"Recent Performance",className:"h-full",children:u.length>0?t(o,{dataSource:u,renderItem:e=>{const i=l.find(n=>n.id===e.assessmentId);return t(o.Item,{children:s("div",{className:"flex justify-between items-center w-full",children:[s("div",{children:[t("div",{className:"font-medium",children:i==null?void 0:i.title}),s("div",{className:"text-sm text-gray-600",children:["Submitted ",new Date(e.submittedAt).toLocaleDateString()]})]}),s("div",{className:"text-right",children:[s("div",{className:`font-bold ${e.percentage>=70?"text-green-600":e.percentage>=50?"text-orange-600":"text-red-600"}`,children:[e.percentage,"%"]}),s("div",{className:"text-sm text-gray-600",children:[e.totalScore,"/",e.maxScore]})]})]})})}}):t("div",{className:"text-center text-gray-500 py-8",children:"No submissions yet"})})})]}),t(d,{title:"Upcoming Assessments",children:x.length>0?t(o,{dataSource:x,renderItem:e=>t(o.Item,{children:s("div",{className:"flex justify-between items-center w-full",children:[s("div",{className:"flex items-center space-x-3",children:[t(O,{className:"text-blue-600"}),s("div",{children:[t("div",{className:"font-medium",children:e.title}),s("div",{className:"text-sm text-gray-600",children:[e.subject," â€¢ ",e.duration," minutes"]})]})]}),s("div",{className:"text-right",children:[t("div",{className:"text-sm text-gray-600",children:"Due"}),t("div",{className:"font-medium",children:new Date(e.deadline).toLocaleDateString()})]})]})})}):t("div",{className:"text-center text-gray-500 py-8",children:"No upcoming assessments"})})]})};export{E as default};
