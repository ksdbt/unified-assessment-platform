import{f as p,av as J,V as W,as as Y,k as V,aq as F,p as B,w as L,g as ee,m as ie,e as y,r as ne,bZ as te,aB as ae,h as le,aR as se,a6 as ce,bT as oe,H as re,o as de,aa as me,ab as H,ah as U,a as m,j as n,af as ue,C as D,I as E,s as M,a0 as he,$ as q}from"./index-7e43eeaa.js";import{F as ge}from"./index-8494a245.js";import{U as pe,a as Se,m as fe}from"./UploadOutlined-65b8399a.js";import{D as be}from"./index-5a52cdcf.js";import{M as ve}from"./index-3d906005.js";import{S as xe}from"./SaveOutlined-c79f92fe.js";import"./useForm-872d7ca5.js";import"./row-43cc7f0c.js";import"./index-d2f8d546.js";import"./fade-e1fcf046.js";import"./DeleteOutlined-133431b9.js";import"./DownloadOutlined-626b5515.js";import"./progress-213077d5.js";import"./useClosable-f6b9b093.js";import"./extendsObject-bdadc4da.js";var Ce=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],X=p.forwardRef(function(e,i){var a,l=e.prefixCls,o=l===void 0?"rc-switch":l,u=e.className,h=e.checked,s=e.defaultChecked,t=e.disabled,r=e.loadingIcon,d=e.checkedChildren,c=e.unCheckedChildren,g=e.onClick,S=e.onChange,v=e.onKeyDown,I=J(e,Ce),f=W(!1,{value:h,defaultValue:s}),z=Y(f,2),$=z[0],C=z[1];function k(b,N){var w=$;return t||(w=b,C(w),S==null||S(w,N)),w}function T(b){b.which===L.LEFT?k(!1,b):b.which===L.RIGHT&&k(!0,b),v==null||v(b)}function x(b){var N=k(!$,b);g==null||g(N,b)}var P=V(o,u,(a={},F(a,"".concat(o,"-checked"),$),F(a,"".concat(o,"-disabled"),t),a));return p.createElement("button",B({},I,{type:"button",role:"switch","aria-checked":$,disabled:t,className:P,ref:i,onKeyDown:T,onClick:x}),r,p.createElement("span",{className:"".concat(o,"-inner")},p.createElement("span",{className:"".concat(o,"-inner-checked")},d),p.createElement("span",{className:"".concat(o,"-inner-unchecked")},c)))});X.displayName="Switch";const ye=e=>{const{componentCls:i,trackHeightSM:a,trackPadding:l,trackMinWidthSM:o,innerMinMarginSM:u,innerMaxMarginSM:h,handleSizeSM:s,calc:t}=e,r=`${i}-inner`,d=y(t(s).add(t(l).mul(2)).equal()),c=y(t(h).mul(2).equal());return{[i]:{[`&${i}-small`]:{minWidth:o,height:a,lineHeight:y(a),[`${i}-inner`]:{paddingInlineStart:h,paddingInlineEnd:u,[`${r}-checked, ${r}-unchecked`]:{minHeight:a},[`${r}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${c})`,marginInlineEnd:`calc(100% - ${d} + ${c})`},[`${r}-unchecked`]:{marginTop:t(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${i}-handle`]:{width:s,height:s},[`${i}-loading-icon`]:{top:t(t(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${i}-checked`]:{[`${i}-inner`]:{paddingInlineStart:u,paddingInlineEnd:h,[`${r}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${r}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${c})`,marginInlineEnd:`calc(-100% + ${d} - ${c})`}},[`${i}-handle`]:{insetInlineStart:`calc(100% - ${y(t(s).add(l).equal())})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${r}`]:{[`${r}-unchecked`]:{marginInlineStart:t(e.marginXXS).div(2).equal(),marginInlineEnd:t(e.marginXXS).mul(-1).div(2).equal()}},[`&${i}-checked ${r}`]:{[`${r}-checked`]:{marginInlineStart:t(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:t(e.marginXXS).div(2).equal()}}}}}}},$e=e=>{const{componentCls:i,handleSize:a,calc:l}=e;return{[i]:{[`${i}-loading-icon${e.iconCls}`]:{position:"relative",top:l(l(a).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${i}-checked ${i}-loading-icon`]:{color:e.switchColor}}}},we=e=>{const{componentCls:i,trackPadding:a,handleBg:l,handleShadow:o,handleSize:u,calc:h}=e,s=`${i}-handle`;return{[i]:{[s]:{position:"absolute",top:a,insetInlineStart:a,width:u,height:u,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:l,borderRadius:h(u).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${i}-checked ${s}`]:{insetInlineStart:`calc(100% - ${y(h(u).add(a).equal())})`},[`&:not(${i}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${i}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Ie=e=>{const{componentCls:i,trackHeight:a,trackPadding:l,innerMinMargin:o,innerMaxMargin:u,handleSize:h,calc:s}=e,t=`${i}-inner`,r=y(s(h).add(s(l).mul(2)).equal()),d=y(s(u).mul(2).equal());return{[i]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:u,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${r} - ${d})`,marginInlineEnd:`calc(100% - ${r} + ${d})`},[`${t}-unchecked`]:{marginTop:s(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${i}-checked ${t}`]:{paddingInlineStart:o,paddingInlineEnd:u,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${r} + ${d})`,marginInlineEnd:`calc(-100% + ${r} - ${d})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:s(l).mul(2).equal(),marginInlineEnd:s(l).mul(-1).mul(2).equal()}},[`&${i}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:s(l).mul(-1).mul(2).equal(),marginInlineEnd:s(l).mul(2).equal()}}}}}},ke=e=>{const{componentCls:i,trackHeight:a,trackMinWidth:l}=e;return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({},ne(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:l,height:a,lineHeight:y(a),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${i}-disabled)`]:{background:e.colorTextTertiary}}),te(e)),{[`&${i}-checked`]:{background:e.switchColor,[`&:hover:not(${i}-disabled)`]:{background:e.colorPrimaryHover}},[`&${i}-loading, &${i}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${i}-rtl`]:{direction:"rtl"}})}},Ne=e=>{const{fontSize:i,lineHeight:a,controlHeight:l,colorWhite:o}=e,u=i*a,h=l/2,s=2,t=u-s*2,r=h-s*2;return{trackHeight:u,trackHeightSM:h,trackMinWidth:t*2+s*4,trackMinWidthSM:r*2+s*2,trackPadding:s,handleBg:o,handleSize:t,handleSizeSM:r,handleShadow:`0 2px 4px 0 ${new ae("#00230b").setA(.2).toRgbString()}`,innerMinMargin:t/2,innerMaxMargin:t+s+s*2,innerMinMarginSM:r/2,innerMaxMarginSM:r+s+s*2}},Ee=ee("Switch",e=>{const i=ie(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[ke(i),Ie(i),we(i),$e(i),ye(i)]},Ne);var Me=globalThis&&globalThis.__rest||function(e,i){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&i.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(e);o<l.length;o++)i.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(a[l[o]]=e[l[o]]);return a};const qe=p.forwardRef((e,i)=>{const{prefixCls:a,size:l,disabled:o,loading:u,className:h,rootClassName:s,style:t,checked:r,value:d,defaultChecked:c,defaultValue:g,onChange:S}=e,v=Me(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[I,f]=W(!1,{value:r??d,defaultValue:c??g}),{getPrefixCls:z,direction:$,switch:C}=p.useContext(le),k=p.useContext(se),T=(o??k)||u,x=z("switch",a),P=p.createElement("div",{className:`${x}-handle`},u&&p.createElement(re,{className:`${x}-loading-icon`})),[b,N,w]=Ee(x),_=ce(l),G=V(C==null?void 0:C.className,{[`${x}-small`]:_==="small",[`${x}-loading`]:u,[`${x}-rtl`]:$==="rtl"},h,s,N,w),Q=Object.assign(Object.assign({},C==null?void 0:C.style),t),Z=(...A)=>{f(A[0]),S==null||S.apply(void 0,A)};return b(p.createElement(oe,{component:"Switch",disabled:T},p.createElement(X,Object.assign({},v,{checked:I,onChange:Z,prefixCls:x,className:G,style:Q,disabled:T,ref:i,loadingIcon:P}))))}),K=qe;K.__ANT_SWITCH=!0;const O=K;var ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const Te=ze;var De=function(i,a){return p.createElement(de,B({},i,{ref:a,icon:Te}))},Oe=p.forwardRef(De);const R=Oe,{confirm:j}=ve,Pe=me().shape({instituteName:H().required("Institute name is required"),instituteEmail:H().email("Invalid email").required("Institute email is required"),supportEmail:H().email("Invalid email").required("Support email is required"),maxFileSize:U().min(1).max(100).required("Max file size is required"),sessionTimeout:U().min(15).max(480).required("Session timeout is required")}),Ze=()=>{const[e,i]=p.useState(!1),[a,l]=p.useState(null),o={instituteName:"Unified Assessment Platform",instituteEmail:"admin@unified.edu",supportEmail:"support@unified.edu",logoUrl:null,allowRegistration:!0,requireEmailVerification:!0,enableNotifications:!0,maxFileSize:10,sessionTimeout:60,maintenanceMode:!1,backupFrequency:"daily"},u=async d=>{i(!0);try{await new Promise(c=>setTimeout(c,2e3)),q.success("Platform settings updated successfully!")}catch{q.error("Failed to update settings")}finally{i(!1)}},h=d=>{d.file.status==="done"&&(l(d.file),fe.success("Logo uploaded successfully"))},s=()=>{j({title:"Reset to Default Settings",icon:n(R,{}),content:"Are you sure you want to reset all settings to their default values? This action cannot be undone.",onOk(){q.success("Settings reset to defaults successfully!")},onCancel(){}})},t=()=>{j({title:"Archive Platform Data",icon:n(R,{}),content:"This will archive old assessment data and submissions. Archived data will be stored but not accessible through the UI.",onOk(){q.success("Data archiving initiated successfully!")},onCancel(){}})},r=()=>{j({title:"System Reset",icon:n(R,{}),content:"WARNING: This will reset the entire platform to its initial state. All data will be permanently deleted. This action cannot be undone.",okText:"Reset System",okButtonProps:{danger:!0},onOk(){q.error("System reset is not allowed in demo mode")},onCancel(){}})};return m("div",{className:"p-6 max-w-4xl mx-auto",children:[m("div",{className:"mb-6",children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Platform Settings"}),n("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure global platform settings and preferences"})]}),n(ue,{initialValues:o,validationSchema:Pe,onSubmit:u,children:({values:d,errors:c,touched:g,handleChange:S,setFieldValue:v,handleSubmit:I})=>m(ge,{layout:"vertical",onFinish:I,children:[m(D,{title:"Institute Information",className:"mb-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Institute Name *"}),n(E,{name:"instituteName",value:d.instituteName,onChange:S,status:c.instituteName&&g.instituteName?"error":""}),c.instituteName&&g.instituteName&&n("div",{className:"text-red-500 text-sm mt-1",children:c.instituteName})]}),m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Institute Email *"}),n(E,{name:"instituteEmail",value:d.instituteEmail,onChange:S,status:c.instituteEmail&&g.instituteEmail?"error":""}),c.instituteEmail&&g.instituteEmail&&n("div",{className:"text-red-500 text-sm mt-1",children:c.instituteEmail})]}),m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Support Email *"}),n(E,{name:"supportEmail",value:d.supportEmail,onChange:S,status:c.supportEmail&&g.supportEmail?"error":""}),c.supportEmail&&g.supportEmail&&n("div",{className:"text-red-500 text-sm mt-1",children:c.supportEmail})]})]}),m("div",{className:"mt-4",children:[n("label",{className:"block text-sm font-medium mb-2",children:"Institute Logo"}),n(pe,{showUploadList:!1,beforeUpload:()=>!1,onChange:h,accept:"image/*",children:n(M,{icon:n(Se,{}),children:a?"Change Logo":"Upload Logo"})}),a&&m("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",a.name]})]})]}),n(D,{title:"User Management",className:"mb-6",children:m("div",{className:"space-y-4",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[n("div",{className:"font-medium",children:"Allow User Registration"}),n("div",{className:"text-sm text-gray-600",children:"Allow new users to register accounts"})]}),n(O,{checked:d.allowRegistration,onChange:f=>v("allowRegistration",f)})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[n("div",{className:"font-medium",children:"Require Email Verification"}),n("div",{className:"text-sm text-gray-600",children:"Require email verification for new accounts"})]}),n(O,{checked:d.requireEmailVerification,onChange:f=>v("requireEmailVerification",f)})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[n("div",{className:"font-medium",children:"Enable Notifications"}),n("div",{className:"text-sm text-gray-600",children:"Send email notifications to users"})]}),n(O,{checked:d.enableNotifications,onChange:f=>v("enableNotifications",f)})]})]})}),m(D,{title:"System Settings",className:"mb-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Max File Upload Size (MB) *"}),n(E,{name:"maxFileSize",type:"number",min:1,max:100,value:d.maxFileSize,onChange:S,status:c.maxFileSize&&g.maxFileSize?"error":""}),c.maxFileSize&&g.maxFileSize&&n("div",{className:"text-red-500 text-sm mt-1",children:c.maxFileSize})]}),m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Session Timeout (minutes) *"}),n(E,{name:"sessionTimeout",type:"number",min:15,max:480,value:d.sessionTimeout,onChange:S,status:c.sessionTimeout&&g.sessionTimeout?"error":""}),c.sessionTimeout&&g.sessionTimeout&&n("div",{className:"text-red-500 text-sm mt-1",children:c.sessionTimeout})]})]}),n("div",{className:"mt-4",children:m("div",{className:"flex items-center justify-between",children:[m("div",{children:[n("div",{className:"font-medium",children:"Maintenance Mode"}),n("div",{className:"text-sm text-gray-600",children:"Put the platform in maintenance mode"})]}),n(O,{checked:d.maintenanceMode,onChange:f=>v("maintenanceMode",f)})]})})]}),n(D,{title:"Data Management",className:"mb-6",children:m("div",{className:"space-y-4",children:[m("div",{children:[n("label",{className:"block text-sm font-medium mb-2",children:"Automatic Backup Frequency"}),m("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:d.backupFrequency,onChange:f=>v("backupFrequency",f.target.value),children:[n("option",{value:"hourly",children:"Hourly"}),n("option",{value:"daily",children:"Daily"}),n("option",{value:"weekly",children:"Weekly"}),n("option",{value:"monthly",children:"Monthly"})]})]}),n(be,{}),m("div",{className:"space-y-2",children:[n("h3",{className:"font-medium text-red-600",children:"Danger Zone"}),n("p",{className:"text-sm text-gray-600",children:"These actions are irreversible. Please proceed with caution."}),m(he,{children:[n(M,{onClick:t,children:"Archive Old Data"}),n(M,{onClick:s,children:"Reset to Defaults"}),n(M,{danger:!0,onClick:r,children:"System Reset"})]})]})]})}),n("div",{className:"flex justify-end",children:n(M,{type:"primary",htmlType:"submit",icon:n(xe,{}),loading:e,size:"large",children:"Save Settings"})})]})})]})};export{Ze as default};
